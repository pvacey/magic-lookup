var De=Object.defineProperty;var Ke=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>(Ke(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function D(){}function He(e){return e()}function Oe(){return Object.create(null)}function K(e){e.forEach(He)}function qe(e){return typeof e=="function"}function ve(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ce;function ee(e,t){return e===t?!0:(ce||(ce=document.createElement("a")),ce.href=t,e===ce.href)}function Xe(e){return Object.keys(e).length===0}const Ge=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(e,t){e.appendChild(t)}function P(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function Re(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function he(e){return document.createTextNode(e)}function T(){return he(" ")}function Qe(){return he("")}function C(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ye(e){return Array.from(e.childNodes)}function Ze(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ne(e,t){e.value=t??""}function _(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let ae;function xe(){if(ae===void 0){ae=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ae=!0}}return ae}function $e(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=b("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const s=xe();let i;return s?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=C(window,"message",o=>{o.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{i=C(r.contentWindow,"resize",t),t()}),m(e,r),()=>{(s||i&&r.contentWindow)&&i(),z(r)}}function et(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}let ne;function te(e){ne=e}function we(){if(!ne)throw new Error("Function called outside component initialization");return ne}function tt(e){we().$$.on_mount.push(e)}function nt(e){we().$$.after_update.push(e)}function Te(){const e=we();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=et(t,n,{cancelable:r});return s.slice().forEach(o=>{o.call(e,i)}),!i.defaultPrevented}return!0}}const Q=[],U=[];let Y=[];const Ae=[],Ve=Promise.resolve();let me=!1;function Fe(){me||(me=!0,Ve.then(Ue))}function rt(){return Fe(),Ve}function ue(e){Y.push(e)}const pe=new Set;let G=0;function Ue(){if(G!==0)return;const e=ne;do{try{for(;G<Q.length;){const t=Q[G];G++,te(t),st(t.$$)}}catch(t){throw Q.length=0,G=0,t}for(te(null),Q.length=0,G=0;U.length;)U.pop()();for(let t=0;t<Y.length;t+=1){const n=Y[t];pe.has(n)||(pe.add(n),n())}Y.length=0}while(Q.length);for(;Ae.length;)Ae.pop()();me=!1,pe.clear(),te(e)}function st(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ue)}}function it(e){const t=[],n=[];Y.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Y=t}const fe=new Set;let W;function _e(){W={r:0,c:[],p:W}}function ye(){W.r||K(W.c),W=W.p}function J(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function V(e,t,n,r){if(e&&e.o){if(fe.has(e))return;fe.add(e),W.c.push(()=>{fe.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function de(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function We(e){e&&e.c()}function Se(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),ue(()=>{const i=e.$$.on_mount.map(He).filter(qe);e.$$.on_destroy?e.$$.on_destroy.push(...i):K(i),e.$$.on_mount=[]}),s.forEach(ue)}function ke(e,t){const n=e.$$;n.fragment!==null&&(it(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(e,t){e.$$.dirty[0]===-1&&(Q.push(e),Fe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(e,t,n,r,s,i,o=null,f=[-1]){const a=ne;te(e);const c=e.$$={fragment:null,ctx:[],props:i,update:D,not_equal:s,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Oe(),dirty:f,skip_bound:!1,root:t.target||a.$$.root};o&&o(c.root);let L=!1;if(c.ctx=n?n(e,t.props||{},(p,E,...O)=>{const w=O.length?O[0]:E;return c.ctx&&s(c.ctx[p],c.ctx[p]=w)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](w),L&&ot(e,p)),E}):[],c.update(),L=!0,K(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const p=Ye(t.target);c.fragment&&c.fragment.l(p),p.forEach(z)}else c.fragment&&c.fragment.c();t.intro&&J(e.$$.fragment),Se(e,t.target,t.anchor),Ue()}te(a)}class Ie{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){ke(this,1),this.$destroy=D}$on(t,n){if(!qe(n))return D;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);function ct(e){let t,n,r,s;return{c(){t=b("div"),n=he(e[0]),g(t,"class","searchitem")},m(i,o){P(i,t,o),m(t,n),r||(s=C(t,"click",e[1]),r=!0)},p(i,[o]){o&1&&Ze(n,i[0])},i:D,o:D,d(i){i&&z(t),r=!1,s()}}}function at(e,t,n){let{cardname:r}=t;const s=Te();function i(){s("message",{cardname:r})}return e.$$set=o=>{"cardname"in o&&n(0,r=o.cardname)},[r,i]}class ft extends Ie{constructor(t){super(),Ce(this,t,at,ct,ve,{cardname:0})}}function ut(e){let t,n,r,s,i,o;return{c(){t=b("div"),n=b("div"),r=b("img"),ee(r.src,s=e[0].front)||g(r,"src",s),g(r,"alt",""),g(n,"class","card"),_(n,"transform","rotate("+(Math.random()*1.5-1)+"deg) translateX("+Math.random()*10+"px)"),g(t,"class","cardspacer"),_(t,"height",e[1]+"px"),_(t,"margin-top","-"+e[1]/4+"px")},m(f,a){P(f,t,a),m(t,n),m(n,r),i||(o=[C(r,"mouseenter",e[2]),C(r,"mouseleave",e[3]),C(r,"click",e[4])],i=!0)},p(f,[a]){a&1&&!ee(r.src,s=f[0].front)&&g(r,"src",s),a&2&&_(t,"height",f[1]+"px"),a&2&&_(t,"margin-top","-"+f[1]/4+"px")},i:D,o:D,d(f){f&&z(t),i=!1,K(o)}}}function dt(e,t,n){let{data:r}=t,{cardSpace:s}=t;const i=Te();function o(){i("message",{type:"mouseenter",data:r})}function f(){i("message",{type:"mouseleave",data:r})}function a(){i("message",{type:"click",data:r})}return e.$$set=c=>{"data"in c&&n(0,r=c.data),"cardSpace"in c&&n(1,s=c.cardSpace)},[r,s,o,f,a]}class ht extends Ie{constructor(t){super(),Ce(this,t,dt,ut,ve,{data:0,cardSpace:1})}}const{window:ze}=Ge;function Je(e,t,n){const r=e.slice();return r[34]=t[n],r}function Le(e,t,n){const r=e.slice();return r[37]=t[n],r}function Me(e){let t,n;return t=new ft({props:{cardname:e[37]}}),t.$on("message",e[14]),{c(){We(t.$$.fragment)},m(r,s){Se(t,r,s),n=!0},p(r,s){const i={};s[0]&2&&(i.cardname=r[37]),t.$set(i)},i(r){n||(J(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){ke(t,r)}}}function Pe(e){let t,n,r=de(e[4]),s=[];for(let o=0;o<r.length;o+=1)s[o]=Be(Je(e,r,o));const i=o=>V(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=Qe()},m(o,f){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(o,f);P(o,t,f),n=!0},p(o,f){if(f[0]&1048848){r=de(o[4]);let a;for(a=0;a<r.length;a+=1){const c=Je(o,r,a);s[a]?(s[a].p(c,f),J(s[a],1)):(s[a]=Be(c),s[a].c(),J(s[a],1),s[a].m(t.parentNode,t))}for(_e(),a=r.length;a<s.length;a+=1)i(a);ye()}},i(o){if(!n){for(let f=0;f<r.length;f+=1)J(s[f]);n=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)V(s[f]);n=!1},d(o){o&&z(t),Re(s,o)}}}function Be(e){let t,n;return t=new ht({props:{cardSpace:e[8],data:e[34]}}),t.$on("message",e[20]),{c(){We(t.$$.fragment)},m(r,s){Se(t,r,s),n=!0},p(r,s){const i={};s[0]&256&&(i.cardSpace=r[8]),s[0]&16&&(i.data=r[34]),t.$set(i)},i(r){n||(J(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){ke(t,r)}}}function gt(e){let t,n,r,s,i,o,f,a,c,L,p,E,O,w,B,j,N,v,A,re,H,Z,se,X,k,x,M,q,F,ie,oe,I,$,le,R=de(e[1]),y=[];for(let l=0;l<R.length;l+=1)y[l]=Me(Le(e,R,l));const u=l=>V(y[l],1,1,()=>{y[l]=null});let d=e[4].length>0&&Pe(e);return{c(){t=b("head"),t.innerHTML='<meta charset="utf-8"/> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono"/>',n=T(),r=b("div"),s=b("div"),i=b("input"),o=T(),f=b("div");for(let l=0;l<y.length;l+=1)y[l].c();a=T(),c=b("div"),c.textContent="clear",L=T(),p=b("div"),E=b("div"),O=b("div"),w=T(),B=b("div"),j=b("div"),N=b("div"),v=b("img"),re=T(),H=b("div"),Z=he("🔁"),se=T(),X=b("div"),k=b("div"),d&&d.c(),x=T(),M=b("div"),q=b("div"),F=b("img"),g(i,"type","text"),g(i,"placeholder","search..."),g(f,"class","searchresultsbox"),g(s,"class","searchboxinner"),g(r,"class","searchbox"),g(c,"class","clearbutton"),_(c,"position","absolute"),_(c,"bottom","10px"),_(c,"right","10px"),_(c,"z-index","2"),_(c,"border","3px solid #494949"),_(c,"padding","5px"),_(c,"cursor","pointer"),_(c,"background-color","white"),g(O,"class","searchboxpadding"),ee(v.src,A=e[10][e[10].active])||g(v,"src",A),g(N,"class","selectedcard"),g(H,"class","flipButton"),_(H,"visibility","back"in e[10]?"visible":"hidden"),g(j,"class","selectedcardelement"),g(B,"class","selectedcardbox"),ee(F.src,ie=be)||g(F,"src",ie),g(F,"alt",""),g(q,"class","card"),ue(()=>e[28].call(q)),g(M,"class","cardspacer"),_(M,"height",e[9]+"px"),_(M,"margin-top","-"+e[8]/4+"px"),g(k,"class","cardhistory"),_(k,"padding-top",e[8]/4+35+"px"),_(k,"height",e[12]-(e[8]/4+35)+"px"),g(X,"class","cardhistorycontainer"),g(p,"class","root"),_(p,"visibility",e[3])},m(l,h){P(l,t,h),P(l,n,h),P(l,r,h),m(r,s),m(s,i),e[22](i),Ne(i,e[0]),m(s,o),m(s,f);for(let S=0;S<y.length;S+=1)y[S]&&y[S].m(f,null);e[24](f),e[25](r),P(l,a,h),P(l,c,h),P(l,L,h),P(l,p,h),m(p,E),m(E,O),e[26](O),m(E,w),m(E,B),m(B,j),m(j,N),m(N,v),m(j,re),m(j,H),m(H,Z),e[27](E),m(p,se),m(p,X),m(X,k),d&&d.m(k,null),m(k,x),m(k,M),m(M,q),m(q,F),oe=$e(q,e[28].bind(q)),I=!0,$||(le=[C(ze,"resize",e[17]),C(ze,"keypress",e[18]),C(i,"input",e[23]),C(i,"input",e[13]),C(i,"keydown",e[16]),C(c,"click",e[19]),C(v,"click",e[21]),C(H,"click",e[15])],$=!0)},p(l,h){if(h[0]&1&&i.value!==l[0]&&Ne(i,l[0]),h[0]&16386){R=de(l[1]);let S;for(S=0;S<R.length;S+=1){const Ee=Le(l,R,S);y[S]?(y[S].p(Ee,h),J(y[S],1)):(y[S]=Me(Ee),y[S].c(),J(y[S],1),y[S].m(f,null))}for(_e(),S=R.length;S<y.length;S+=1)u(S);ye()}(!I||h[0]&1024&&!ee(v.src,A=l[10][l[10].active]))&&g(v,"src",A),(!I||h[0]&1024)&&_(H,"visibility","back"in l[10]?"visible":"hidden"),l[4].length>0?d?(d.p(l,h),h[0]&16&&J(d,1)):(d=Pe(l),d.c(),J(d,1),d.m(k,x)):d&&(_e(),V(d,1,1,()=>{d=null}),ye()),(!I||h[0]&512)&&_(M,"height",l[9]+"px"),(!I||h[0]&256)&&_(M,"margin-top","-"+l[8]/4+"px"),(!I||h[0]&256)&&_(k,"padding-top",l[8]/4+35+"px"),(!I||h[0]&4352)&&_(k,"height",l[12]-(l[8]/4+35)+"px"),(!I||h[0]&8)&&_(p,"visibility",l[3])},i(l){if(!I){for(let h=0;h<R.length;h+=1)J(y[h]);J(d),I=!0}},o(l){y=y.filter(Boolean);for(let h=0;h<y.length;h+=1)V(y[h]);V(d),I=!1},d(l){l&&(z(t),z(n),z(r),z(a),z(c),z(L),z(p)),e[22](null),Re(y,l),e[24](null),e[25](null),e[26](null),e[27](null),d&&d.d(),oe(),$=!1,K(le)}}}let je="1",be="https://backs.scryfall.io/large/2/2/222b7a3b-2321-4d4c-af19-19338b134971.jpg?1677416389";function pt(e,t,n){let r="",s=[],i,o="hidden",f=[],a=[],c,L,p,E,O,w={front:be},B,j,N=w,v=0,A;const re=async()=>{const d=await(await fetch("https://api.scryfall.com/cards/autocomplete?q="+r)).json();n(1,s=d.data),await rt(),v==0&&i!==void 0&&i.children.length>0&&n(2,i.children[0].style.background="#ece8d9",i)},H=u=>{Z(u.detail.cardname)},Z=u=>{fetch("https://api.scryfall.com/cards/named?exact="+u).then(d=>d.json()).then(d=>{let l={link:d.scryfall_uri,active:"front"};try{"card_faces"in d?(l.front=d.card_faces[0].image_uris.normal,l.back=d.card_faces[1].image_uris.normal):l.front=d.image_uris.normal}catch{n(1,s=[]);return}f.push(l),n(4,a=f.toReversed()),n(1,s=[]),n(0,r=""),n(3,o="visible"),N=l,n(10,w=l),localStorage.setItem("clickedCard",JSON.stringify(N)),localStorage.setItem("selectedCard",JSON.stringify(w)),localStorage.setItem("cards",JSON.stringify(f)),localStorage.setItem("displayCards",JSON.stringify(a))}).catch(d=>console.error("Error:",d))},se=u=>{n(10,w.active=w.active==="front"?"back":"front",w)},X=u=>{u.key==="Enter"&&s.length>0?(A||(A=s[0]),Z(A),v=0,A=null):u.key==="Escape"&&s.length>0&&(n(1,s=[]),v=0,A=null),u.key==="ArrowDown"&&s.length>0&&(n(2,i.children[v].style.background="white",i),v<s.length-1&&v++,A=s[v],n(2,i.children[v].style.background="#ece8d9",i)),u.key==="ArrowUp"&&s.length>0&&(n(2,i.children[v].style.background="white",i),v>0&&v--,A=s[v],n(2,i.children[v].style.background="#ece8d9",i))};tt(async()=>{try{localStorage.getItem("clickedCard")&&(N=JSON.parse(localStorage.getItem("clickedCard"))),localStorage.getItem("selectedCard")&&n(10,w=JSON.parse(localStorage.getItem("selectedCard"))),localStorage.getItem("cards")&&(f=JSON.parse(localStorage.getItem("cards"))),localStorage.getItem("displayCards")&&n(4,a=JSON.parse(localStorage.getItem("displayCards")))}catch(u){console.log(u)}localStorage.getItem("schemaVersion")!==je&&(M(),localStorage.setItem("schemaVersion",je)),a.length>0&&n(3,o="visible"),n(5,c.style.height=L.offsetHeight+"px",c),p.focus()}),nt(()=>k());const k=u=>{n(12,j=document.body.offsetHeight-B.offsetHeight),n(8,E=O/4)},x=u=>{document.activeElement!==p&&p.focus()},M=u=>{f=[],n(4,a=[]),n(10,w={front:be}),n(3,o="hidden"),console.log("click"),localStorage.removeItem("clickedCard"),localStorage.removeItem("selectedCard"),localStorage.removeItem("cards"),localStorage.removeItem("displayCards")},q=u=>{switch(u.detail.type){case"mouseenter":n(10,w=u.detail.data);break;case"mouseleave":n(10,w=N);break;case"click":N=u.detail.data,n(10,w=N),localStorage.setItem("clickedCard",JSON.stringify(N)),localStorage.setItem("selectedCard",JSON.stringify(w))}},F=u=>{window.open(w.link)};function ie(u){U[u?"unshift":"push"](()=>{p=u,n(7,p)})}function oe(){r=this.value,n(0,r)}function I(u){U[u?"unshift":"push"](()=>{i=u,n(2,i)})}function $(u){U[u?"unshift":"push"](()=>{L=u,n(6,L)})}function le(u){U[u?"unshift":"push"](()=>{c=u,n(5,c)})}function R(u){U[u?"unshift":"push"](()=>{B=u,n(11,B)})}function y(){O=this.clientHeight,n(9,O)}return[r,s,i,o,a,c,L,p,E,O,w,B,j,re,H,se,X,k,x,M,q,F,ie,oe,I,$,le,R,y]}class mt extends Ie{constructor(t){super(),Ce(this,t,pt,gt,ve,{},null,[-1,-1])}}new mt({target:document.getElementById("app")});
