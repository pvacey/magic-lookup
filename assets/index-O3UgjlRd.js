var Te=Object.defineProperty;var Fe=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(Fe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function D(){}function Le(e){return e()}function ke(){return Object.create(null)}function K(e){e.forEach(Le)}function Me(e){return typeof e=="function"}function me(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let re;function Y(e,t){return e===t?!0:(re||(re=document.createElement("a")),re.href=t,e===re.href)}function Ue(e){return Object.keys(e).length===0}const We=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function b(e,t){e.appendChild(t)}function j(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function Pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function _e(e){return document.createTextNode(e)}function F(){return _e(" ")}function De(){return _e("")}function C(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ke(e){return Array.from(e.childNodes)}function Ve(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ce(e,t){e.value=t??""}function p(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let se;function Xe(){if(se===void 0){se=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{se=!0}}return se}function xe(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=_("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const s=Xe();let i;return s?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=C(window,"message",l=>{l.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{i=C(r.contentWindow,"resize",t),t()}),b(e,r),()=>{(s||i&&r.contentWindow)&&i(),z(r)}}function Ge(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}let $;function Z(e){$=e}function ye(){if(!$)throw new Error("Function called outside component initialization");return $}function Qe(e){ye().$$.on_mount.push(e)}function Ye(e){ye().$$.after_update.push(e)}function je(){const e=ye();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=Ge(t,n,{cancelable:r});return s.slice().forEach(l=>{l.call(e,i)}),!i.defaultPrevented}return!0}}const X=[],U=[];let x=[];const Ie=[],Be=Promise.resolve();let de=!1;function He(){de||(de=!0,Be.then(qe))}function Ze(){return He(),Be}function oe(e){x.push(e)}const fe=new Set;let V=0;function qe(){if(V!==0)return;const e=$;do{try{for(;V<X.length;){const t=X[V];V++,Z(t),$e(t.$$)}}catch(t){throw X.length=0,V=0,t}for(Z(null),X.length=0,V=0;U.length;)U.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];fe.has(n)||(fe.add(n),n())}x.length=0}while(X.length);for(;Ie.length;)Ie.pop()();de=!1,fe.clear(),Z(e)}function $e(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(oe)}}function et(e){const t=[],n=[];x.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),x=t}const ie=new Set;let W;function he(){W={r:0,c:[],p:W}}function ge(){W.r||K(W.c),W=W.p}function J(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function T(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),W.c.push(()=>{ie.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function le(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Re(e){e&&e.c()}function be(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),oe(()=>{const i=e.$$.on_mount.map(Le).filter(Me);e.$$.on_destroy?e.$$.on_destroy.push(...i):K(i),e.$$.on_mount=[]}),s.forEach(oe)}function we(e,t){const n=e.$$;n.fragment!==null&&(et(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,t){e.$$.dirty[0]===-1&&(X.push(e),He(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,n,r,s,i,l=null,f=[-1]){const a=$;Z(e);const c=e.$$={fragment:null,ctx:[],props:i,update:D,not_equal:s,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ke(),dirty:f,skip_bound:!1,root:t.target||a.$$.root};l&&l(c.root);let L=!1;if(c.ctx=n?n(e,t.props||{},(h,I,...E)=>{const w=E.length?E[0]:I;return c.ctx&&s(c.ctx[h],c.ctx[h]=w)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](w),L&&tt(e,h)),I}):[],c.update(),L=!0,K(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const h=Ke(t.target);c.fragment&&c.fragment.l(h),h.forEach(z)}else c.fragment&&c.fragment.c();t.intro&&J(e.$$.fragment),be(e,t.target,t.anchor),qe()}Z(a)}class Se{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){we(this,1),this.$destroy=D}$on(t,n){if(!Me(n))return D;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Ue(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nt);function rt(e){let t,n,r,s;return{c(){t=_("div"),n=_e(e[0]),m(t,"class","searchitem")},m(i,l){j(i,t,l),b(t,n),r||(s=C(t,"click",e[1]),r=!0)},p(i,[l]){l&1&&Ve(n,i[0])},i:D,o:D,d(i){i&&z(t),r=!1,s()}}}function st(e,t,n){let{cardname:r}=t;const s=je();function i(){s("message",{cardname:r})}return e.$$set=l=>{"cardname"in l&&n(0,r=l.cardname)},[r,i]}class it extends Se{constructor(t){super(),ve(this,t,st,rt,me,{cardname:0})}}function ot(e){let t,n,r,s,i,l;return{c(){t=_("div"),n=_("div"),r=_("img"),Y(r.src,s=e[0].image)||m(r,"src",s),m(r,"alt",""),m(n,"class","card"),p(n,"transform","rotate("+(Math.random()*1.5-1)+"deg) translateX("+Math.random()*10+"px)"),m(t,"class","cardspacer"),p(t,"height",e[1]+"px"),p(t,"margin-top","-"+e[1]/4+"px")},m(f,a){j(f,t,a),b(t,n),b(n,r),i||(l=[C(r,"mouseenter",e[2]),C(r,"mouseleave",e[3]),C(r,"click",e[4])],i=!0)},p(f,[a]){a&1&&!Y(r.src,s=f[0].image)&&m(r,"src",s),a&2&&p(t,"height",f[1]+"px"),a&2&&p(t,"margin-top","-"+f[1]/4+"px")},i:D,o:D,d(f){f&&z(t),i=!1,K(l)}}}function lt(e,t,n){let{data:r}=t,{cardSpace:s}=t;const i=je();function l(){i("message",{type:"mouseenter",data:r})}function f(){i("message",{type:"mouseleave",data:r})}function a(){i("message",{type:"click",data:r})}return e.$$set=c=>{"data"in c&&n(0,r=c.data),"cardSpace"in c&&n(1,s=c.cardSpace)},[r,s,l,f,a]}class ct extends Se{constructor(t){super(),ve(this,t,lt,ot,me,{data:0,cardSpace:1})}}const{window:Ee}=We;function Oe(e,t,n){const r=e.slice();return r[33]=t[n],r}function Ne(e,t,n){const r=e.slice();return r[36]=t[n],r}function Ae(e){let t,n;return t=new it({props:{cardname:e[36]}}),t.$on("message",e[14]),{c(){Re(t.$$.fragment)},m(r,s){be(t,r,s),n=!0},p(r,s){const i={};s[0]&2&&(i.cardname=r[36]),t.$set(i)},i(r){n||(J(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){we(t,r)}}}function ze(e){let t,n,r=le(e[4]),s=[];for(let l=0;l<r.length;l+=1)s[l]=Je(Oe(e,r,l));const i=l=>T(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();t=De()},m(l,f){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,f);j(l,t,f),n=!0},p(l,f){if(f[0]&524560){r=le(l[4]);let a;for(a=0;a<r.length;a+=1){const c=Oe(l,r,a);s[a]?(s[a].p(c,f),J(s[a],1)):(s[a]=Je(c),s[a].c(),J(s[a],1),s[a].m(t.parentNode,t))}for(he(),a=r.length;a<s.length;a+=1)i(a);ge()}},i(l){if(!n){for(let f=0;f<r.length;f+=1)J(s[f]);n=!0}},o(l){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)T(s[f]);n=!1},d(l){l&&z(t),Pe(s,l)}}}function Je(e){let t,n;return t=new ct({props:{cardSpace:e[8],data:e[33]}}),t.$on("message",e[19]),{c(){Re(t.$$.fragment)},m(r,s){be(t,r,s),n=!0},p(r,s){const i={};s[0]&256&&(i.cardSpace=r[8]),s[0]&16&&(i.data=r[33]),t.$set(i)},i(r){n||(J(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){we(t,r)}}}function at(e){let t,n,r,s,i,l,f,a,c,L,h,I,E,w,B,P,O,v,N,k,G,M,H,R,ee,te,A,Q,ne,q=le(e[1]),g=[];for(let u=0;u<q.length;u+=1)g[u]=Ae(Ne(e,q,u));const ce=u=>T(g[u],1,1,()=>{g[u]=null});let y=e[4].length>0&&ze(e);return{c(){t=_("head"),t.innerHTML='<meta charset="utf-8"/> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono"/>',n=F(),r=_("div"),s=_("div"),i=_("input"),l=F(),f=_("div");for(let u=0;u<g.length;u+=1)g[u].c();a=F(),c=_("div"),c.textContent="clear",L=F(),h=_("div"),I=_("div"),E=_("div"),w=F(),B=_("div"),P=_("img"),v=F(),N=_("div"),k=_("div"),y&&y.c(),G=F(),M=_("div"),H=_("div"),R=_("img"),m(i,"type","text"),m(i,"placeholder","search..."),m(f,"class","searchresultsbox"),m(s,"class","searchboxinner"),m(r,"class","searchbox"),m(c,"class","clearbutton"),p(c,"position","absolute"),p(c,"bottom","10px"),p(c,"right","10px"),p(c,"z-index","2"),p(c,"border","3px solid #494949"),p(c,"padding","5px"),p(c,"cursor","pointer"),p(c,"background-color","white"),m(E,"class","searchboxpadding"),Y(P.src,O=e[10].image)||m(P,"src",O),m(B,"class","selectedcard"),Y(R.src,ee=pe)||m(R,"src",ee),m(R,"alt",""),m(H,"class","card"),oe(()=>e[27].call(H)),m(M,"class","cardspacer"),p(M,"height",e[9]+"px"),p(M,"margin-top","-"+e[8]/4+"px"),m(k,"class","cardhistory"),p(k,"padding-top",e[8]/4+35+"px"),p(k,"height",e[12]-(e[8]/4+35)+"px"),m(N,"class","cardhistorycontainer"),m(h,"class","root"),p(h,"visibility",e[3])},m(u,d){j(u,t,d),j(u,n,d),j(u,r,d),b(r,s),b(s,i),e[21](i),Ce(i,e[0]),b(s,l),b(s,f);for(let o=0;o<g.length;o+=1)g[o]&&g[o].m(f,null);e[23](f),e[24](r),j(u,a,d),j(u,c,d),j(u,L,d),j(u,h,d),b(h,I),b(I,E),e[25](E),b(I,w),b(I,B),b(B,P),e[26](I),b(h,v),b(h,N),b(N,k),y&&y.m(k,null),b(k,G),b(k,M),b(M,H),b(H,R),te=xe(H,e[27].bind(H)),A=!0,Q||(ne=[C(Ee,"resize",e[16]),C(Ee,"keypress",e[17]),C(i,"input",e[22]),C(i,"input",e[13]),C(i,"keydown",e[15]),C(c,"click",e[18]),C(P,"click",e[20])],Q=!0)},p(u,d){if(d[0]&1&&i.value!==u[0]&&Ce(i,u[0]),d[0]&16386){q=le(u[1]);let o;for(o=0;o<q.length;o+=1){const S=Ne(u,q,o);g[o]?(g[o].p(S,d),J(g[o],1)):(g[o]=Ae(S),g[o].c(),J(g[o],1),g[o].m(f,null))}for(he(),o=q.length;o<g.length;o+=1)ce(o);ge()}(!A||d[0]&1024&&!Y(P.src,O=u[10].image))&&m(P,"src",O),u[4].length>0?y?(y.p(u,d),d[0]&16&&J(y,1)):(y=ze(u),y.c(),J(y,1),y.m(k,G)):y&&(he(),T(y,1,1,()=>{y=null}),ge()),(!A||d[0]&512)&&p(M,"height",u[9]+"px"),(!A||d[0]&256)&&p(M,"margin-top","-"+u[8]/4+"px"),(!A||d[0]&256)&&p(k,"padding-top",u[8]/4+35+"px"),(!A||d[0]&4352)&&p(k,"height",u[12]-(u[8]/4+35)+"px"),(!A||d[0]&8)&&p(h,"visibility",u[3])},i(u){if(!A){for(let d=0;d<q.length;d+=1)J(g[d]);J(y),A=!0}},o(u){g=g.filter(Boolean);for(let d=0;d<g.length;d+=1)T(g[d]);T(y),A=!1},d(u){u&&(z(t),z(n),z(r),z(a),z(c),z(L),z(h)),e[21](null),Pe(g,u),e[23](null),e[24](null),e[25](null),e[26](null),y&&y.d(),te(),Q=!1,K(ne)}}}let pe="https://backs.scryfall.io/large/2/2/222b7a3b-2321-4d4c-af19-19338b134971.jpg?1677416389";function ut(e,t,n){let r="",s=[],i,l="hidden",f=[],a=[],c,L,h,I,E,w={image:pe},B,P,O=w,v=0,N;const k=async()=>{const S=await(await fetch("https://api.scryfall.com/cards/autocomplete?q="+r)).json();n(1,s=S.data),await Ze(),v==0&&i!==void 0&&i.children.length>0&&n(2,i.children[0].style.background="#ece8d9",i)},G=o=>{M(o.detail.cardname)},M=o=>{fetch("https://api.scryfall.com/cards/named?exact="+o).then(S=>S.json()).then(S=>{let ae={image:"image_uris"in S?S.image_uris.normal:S.card_faces[0].image_uris.normal,link:S.scryfall_uri};f.push(ae),n(4,a=f.toReversed()),n(1,s=[]),n(0,r=""),n(3,l="visible"),O=ae,n(10,w=ae),localStorage.setItem("clickedCard",JSON.stringify(O)),localStorage.setItem("selectedCard",JSON.stringify(w)),localStorage.setItem("cards",JSON.stringify(f)),localStorage.setItem("displayCards",JSON.stringify(a))}).catch(S=>console.error("Error:",S))},H=o=>{o.key==="Enter"&&s.length>0?(N||(N=s[0]),M(N),v=0,N=null):o.key==="Escape"&&s.length>0&&(n(1,s=[]),v=0,N=null),o.key==="ArrowDown"&&s.length>0&&(n(2,i.children[v].style.background="white",i),v<s.length-1&&v++,N=s[v],n(2,i.children[v].style.background="#ece8d9",i)),o.key==="ArrowUp"&&s.length>0&&(n(2,i.children[v].style.background="white",i),v>0&&v--,N=s[v],n(2,i.children[v].style.background="#ece8d9",i))};Qe(async()=>{try{localStorage.getItem("clickedCard")&&(O=JSON.parse(localStorage.getItem("clickedCard"))),localStorage.getItem("selectedCard")&&n(10,w=JSON.parse(localStorage.getItem("selectedCard"))),localStorage.getItem("cards")&&(f=JSON.parse(localStorage.getItem("cards"))),localStorage.getItem("displayCards")&&n(4,a=JSON.parse(localStorage.getItem("displayCards")))}catch(o){console.log(o)}a.length>0&&n(3,l="visible"),n(5,c.style.height=L.offsetHeight+"px",c),h.focus()}),Ye(()=>R());const R=o=>{n(12,P=document.body.offsetHeight-B.offsetHeight),n(8,I=E/4)},ee=o=>{document.activeElement!==h&&h.focus()},te=o=>{f=[],n(4,a=[]),n(10,w={image:pe}),n(3,l="hidden"),console.log("click"),localStorage.removeItem("clickedCard"),localStorage.removeItem("selectedCard"),localStorage.removeItem("cards"),localStorage.removeItem("displayCards")},A=o=>{switch(o.detail.type){case"mouseenter":n(10,w=o.detail.data);break;case"mouseleave":n(10,w=O);break;case"click":O=o.detail.data,n(10,w=O),localStorage.setItem("clickedCard",JSON.stringify(O)),localStorage.setItem("selectedCard",JSON.stringify(w))}},Q=o=>{window.open(w.link)};function ne(o){U[o?"unshift":"push"](()=>{h=o,n(7,h)})}function q(){r=this.value,n(0,r)}function g(o){U[o?"unshift":"push"](()=>{i=o,n(2,i)})}function ce(o){U[o?"unshift":"push"](()=>{L=o,n(6,L)})}function y(o){U[o?"unshift":"push"](()=>{c=o,n(5,c)})}function u(o){U[o?"unshift":"push"](()=>{B=o,n(11,B)})}function d(){E=this.clientHeight,n(9,E)}return[r,s,i,l,a,c,L,h,I,E,w,B,P,k,G,H,R,ee,te,A,Q,ne,q,g,ce,y,u,d]}class ft extends Se{constructor(t){super(),ve(this,t,ut,at,me,{},null,[-1,-1])}}new ft({target:document.getElementById("app")});
