var De=Object.defineProperty;var Ke=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>(Ke(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function D(){}function je(e){return e()}function Ee(){return Object.create(null)}function K(e){e.forEach(je)}function He(e){return typeof e=="function"}function be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let le;function ee(e,t){return e===t?!0:(le||(le=document.createElement("a")),le.href=t,e===le.href)}function Xe(e){return Object.keys(e).length===0}const Ge=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(e,t){e.appendChild(t)}function B(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function qe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function de(e){return document.createTextNode(e)}function R(){return de(" ")}function Qe(){return de("")}function k(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ye(e){return Array.from(e.childNodes)}function Ze(e,t){t=""+t,e.data!==t&&(e.data=t)}function Oe(e,t){e.value=t??""}function m(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let ce;function xe(){if(ce===void 0){ce=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ce=!0}}return ce}function $e(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=y("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const s=xe();let i;return s?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=k(window,"message",c=>{c.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{i=k(r.contentWindow,"resize",t),t()}),p(e,r),()=>{(s||i&&r.contentWindow)&&i(),N(r)}}function et(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}let ne;function te(e){ne=e}function ve(){if(!ne)throw new Error("Function called outside component initialization");return ne}function tt(e){ve().$$.on_mount.push(e)}function nt(e){ve().$$.after_update.push(e)}function Re(){const e=ve();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=et(t,n,{cancelable:r});return s.slice().forEach(c=>{c.call(e,i)}),!i.defaultPrevented}return!0}}const Y=[],U=[];let Z=[];const Ne=[],Te=Promise.resolve();let me=!1;function Ve(){me||(me=!0,Te.then(Fe))}function rt(){return Ve(),Te}function fe(e){Z.push(e)}const pe=new Set;let Q=0;function Fe(){if(Q!==0)return;const e=ne;do{try{for(;Q<Y.length;){const t=Y[Q];Q++,te(t),st(t.$$)}}catch(t){throw Y.length=0,Q=0,t}for(te(null),Y.length=0,Q=0;U.length;)U.pop()();for(let t=0;t<Z.length;t+=1){const n=Z[t];pe.has(n)||(pe.add(n),n())}Z.length=0}while(Y.length);for(;Ne.length;)Ne.pop()();me=!1,pe.clear(),te(e)}function st(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(fe)}}function it(e){const t=[],n=[];Z.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Z=t}const ae=new Set;let W;function _e(){W={r:0,c:[],p:W}}function ye(){W.r||K(W.c),W=W.p}function A(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function T(e,t,n,r){if(e&&e.o){if(ae.has(e))return;ae.add(e),W.c.push(()=>{ae.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ue(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ue(e){e&&e.c()}function we(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),fe(()=>{const i=e.$$.on_mount.map(je).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...i):K(i),e.$$.on_mount=[]}),s.forEach(fe)}function Se(e,t){const n=e.$$;n.fragment!==null&&(it(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(e,t){e.$$.dirty[0]===-1&&(Y.push(e),Ve(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ke(e,t,n,r,s,i,c=null,u=[-1]){const a=ne;te(e);const f=e.$$={fragment:null,ctx:[],props:i,update:D,not_equal:s,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ee(),dirty:u,skip_bound:!1,root:t.target||a.$$.root};c&&c(f.root);let z=!1;if(f.ctx=n?n(e,t.props||{},(g,E,...O)=>{const q=O.length?O[0]:E;return f.ctx&&s(f.ctx[g],f.ctx[g]=q)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](q),z&&ot(e,g)),E}):[],f.update(),z=!0,K(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const g=Ye(t.target);f.fragment&&f.fragment.l(g),g.forEach(N)}else f.fragment&&f.fragment.c();t.intro&&A(e.$$.fragment),we(e,t.target,t.anchor),Fe()}te(a)}class Ce{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){Se(this,1),this.$destroy=D}$on(t,n){if(!He(n))return D;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);function ct(e){let t,n,r,s;return{c(){t=y("div"),n=de(e[0]),h(t,"class","searchitem")},m(i,c){B(i,t,c),p(t,n),r||(s=k(t,"click",e[1]),r=!0)},p(i,[c]){c&1&&Ze(n,i[0])},i:D,o:D,d(i){i&&N(t),r=!1,s()}}}function at(e,t,n){let{cardname:r}=t;const s=Re();function i(){s("message",{cardname:r})}return e.$$set=c=>{"cardname"in c&&n(0,r=c.cardname)},[r,i]}class ft extends Ce{constructor(t){super(),ke(this,t,at,ct,be,{cardname:0})}}function ut(e){let t,n,r,s,i,c;return{c(){t=y("div"),n=y("div"),r=y("img"),ee(r.src,s=e[0][e[0].active])||h(r,"src",s),h(r,"alt",""),h(n,"class","card"),m(n,"transform","rotate("+(Math.random()*1.5-1)+"deg) translateX("+Math.random()*10+"px)"),h(t,"class","cardspacer"),m(t,"height",e[1]+"px"),m(t,"margin-top","-"+e[1]/4+"px")},m(u,a){B(u,t,a),p(t,n),p(n,r),i||(c=[k(r,"mouseenter",e[2]),k(r,"mouseleave",e[3]),k(r,"click",e[4])],i=!0)},p(u,[a]){a&1&&!ee(r.src,s=u[0][u[0].active])&&h(r,"src",s),a&2&&m(t,"height",u[1]+"px"),a&2&&m(t,"margin-top","-"+u[1]/4+"px")},i:D,o:D,d(u){u&&N(t),i=!1,K(c)}}}function dt(e,t,n){let{data:r}=t,{cardSpace:s}=t;const i=Re();function c(){i("message",{type:"mouseenter",data:r})}function u(){i("message",{type:"mouseleave",data:r})}function a(){i("message",{type:"click",data:r})}return e.$$set=f=>{"data"in f&&n(0,r=f.data),"cardSpace"in f&&n(1,s=f.cardSpace)},[r,s,c,u,a]}class ht extends Ce{constructor(t){super(),ke(this,t,dt,ut,be,{data:0,cardSpace:1})}}const{window:Ae}=Ge;function ze(e,t,n){const r=e.slice();return r[35]=t[n],r}function Je(e,t,n){const r=e.slice();return r[38]=t[n],r}function Le(e){let t,n;return t=new ft({props:{cardname:e[38]}}),t.$on("message",e[14]),{c(){Ue(t.$$.fragment)},m(r,s){we(t,r,s),n=!0},p(r,s){const i={};s[0]&2&&(i.cardname=r[38]),t.$set(i)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){Se(t,r)}}}function Me(e){let t,n,r=ue(e[4]),s=[];for(let c=0;c<r.length;c+=1)s[c]=Pe(ze(e,r,c));const i=c=>T(s[c],1,1,()=>{s[c]=null});return{c(){for(let c=0;c<s.length;c+=1)s[c].c();t=Qe()},m(c,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(c,u);B(c,t,u),n=!0},p(c,u){if(u[0]&1048848){r=ue(c[4]);let a;for(a=0;a<r.length;a+=1){const f=ze(c,r,a);s[a]?(s[a].p(f,u),A(s[a],1)):(s[a]=Pe(f),s[a].c(),A(s[a],1),s[a].m(t.parentNode,t))}for(_e(),a=r.length;a<s.length;a+=1)i(a);ye()}},i(c){if(!n){for(let u=0;u<r.length;u+=1)A(s[u]);n=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)T(s[u]);n=!1},d(c){c&&N(t),qe(s,c)}}}function Pe(e){let t,n;return t=new ht({props:{cardSpace:e[8],data:e[35]}}),t.$on("message",e[20]),{c(){Ue(t.$$.fragment)},m(r,s){we(t,r,s),n=!0},p(r,s){const i={};s[0]&256&&(i.cardSpace=r[8]),s[0]&16&&(i.data=r[35]),t.$set(i)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){Se(t,r)}}}function gt(e){let t,n,r,s,i,c,u,a,f,z,g,E,O,q,v,J,V,S,w,L,j,re,x,X,C,G,M,P,F,se,ie,I,$,oe,H=ue(e[1]),_=[];for(let o=0;o<H.length;o+=1)_[o]=Le(Je(e,H,o));const he=o=>T(_[o],1,1,()=>{_[o]=null});let l=e[4].length>0&&Me(e);return{c(){t=y("head"),t.innerHTML='<meta charset="utf-8"/> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono"/>',n=R(),r=y("div"),s=y("div"),i=y("input"),c=R(),u=y("div");for(let o=0;o<_.length;o+=1)_[o].c();a=R(),f=y("div"),f.textContent="clear",z=R(),g=y("div"),E=y("div"),O=y("div"),q=R(),v=y("div"),J=y("div"),V=y("div"),S=y("img"),L=R(),j=y("div"),re=de("ðŸ”"),x=R(),X=y("div"),C=y("div"),l&&l.c(),G=R(),M=y("div"),P=y("div"),F=y("img"),h(i,"type","text"),h(i,"placeholder","search..."),h(u,"class","searchresultsbox"),h(s,"class","searchboxinner"),h(r,"class","searchbox"),h(f,"class","clearbutton"),m(f,"position","absolute"),m(f,"bottom","10px"),m(f,"right","10px"),m(f,"z-index","2"),m(f,"border","3px solid #494949"),m(f,"padding","5px"),m(f,"cursor","pointer"),m(f,"background-color","white"),h(O,"class","searchboxpadding"),ee(S.src,w=e[10][e[10].active])||h(S,"src",w),h(V,"class","selectedcard"),h(j,"class","flipButton"),m(j,"visibility","back"in e[10]?"visible":"hidden"),h(J,"class","selectedcardelement"),h(v,"class","selectedcardbox"),ee(F.src,se=We)||h(F,"src",se),h(F,"alt",""),h(P,"class","card"),fe(()=>e[28].call(P)),h(M,"class","cardspacer"),m(M,"height",e[9]+"px"),m(M,"margin-top","-"+e[8]/4+"px"),h(C,"class","cardhistory"),m(C,"padding-top",e[8]/4+35+"px"),m(C,"height",e[12]-(e[8]/4+35)+"px"),h(X,"class","cardhistorycontainer"),h(g,"class","root"),m(g,"visibility",e[3])},m(o,d){B(o,t,d),B(o,n,d),B(o,r,d),p(r,s),p(s,i),e[22](i),Oe(i,e[0]),p(s,c),p(s,u);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(u,null);e[24](u),e[25](r),B(o,a,d),B(o,f,d),B(o,z,d),B(o,g,d),p(g,E),p(E,O),e[26](O),p(E,q),p(E,v),p(v,J),p(J,V),p(V,S),p(J,L),p(J,j),p(j,re),e[27](E),p(g,x),p(g,X),p(X,C),l&&l.m(C,null),p(C,G),p(C,M),p(M,P),p(P,F),ie=$e(P,e[28].bind(P)),I=!0,$||(oe=[k(Ae,"resize",e[17]),k(Ae,"keypress",e[18]),k(i,"input",e[23]),k(i,"input",e[13]),k(i,"keydown",e[16]),k(f,"click",e[19]),k(S,"click",e[21]),k(j,"click",e[15])],$=!0)},p(o,d){if(d[0]&1&&i.value!==o[0]&&Oe(i,o[0]),d[0]&16386){H=ue(o[1]);let b;for(b=0;b<H.length;b+=1){const Ie=Je(o,H,b);_[b]?(_[b].p(Ie,d),A(_[b],1)):(_[b]=Le(Ie),_[b].c(),A(_[b],1),_[b].m(u,null))}for(_e(),b=H.length;b<_.length;b+=1)he(b);ye()}(!I||d[0]&1024&&!ee(S.src,w=o[10][o[10].active]))&&h(S,"src",w),(!I||d[0]&1024)&&m(j,"visibility","back"in o[10]?"visible":"hidden"),o[4].length>0?l?(l.p(o,d),d[0]&16&&A(l,1)):(l=Me(o),l.c(),A(l,1),l.m(C,G)):l&&(_e(),T(l,1,1,()=>{l=null}),ye()),(!I||d[0]&512)&&m(M,"height",o[9]+"px"),(!I||d[0]&256)&&m(M,"margin-top","-"+o[8]/4+"px"),(!I||d[0]&256)&&m(C,"padding-top",o[8]/4+35+"px"),(!I||d[0]&4352)&&m(C,"height",o[12]-(o[8]/4+35)+"px"),(!I||d[0]&8)&&m(g,"visibility",o[3])},i(o){if(!I){for(let d=0;d<H.length;d+=1)A(_[d]);A(l),I=!0}},o(o){_=_.filter(Boolean);for(let d=0;d<_.length;d+=1)T(_[d]);T(l),I=!1},d(o){o&&(N(t),N(n),N(r),N(a),N(f),N(z),N(g)),e[22](null),qe(_,o),e[24](null),e[25](null),e[26](null),e[27](null),l&&l.d(),ie(),$=!1,K(oe)}}}let Be="1",We="https://backs.scryfall.io/large/2/2/222b7a3b-2321-4d4c-af19-19338b134971.jpg?1677416389";function pt(e,t,n){let r="",s=[],i,c="hidden",u=[],a=[],f,z,g,E,O;const q={front:We,link:"",active:"front"};let v=q,J,V,S=v,w=0,L;const j=async()=>{const o=await(await fetch("https://api.scryfall.com/cards/autocomplete?q="+r)).json();n(1,s=o.data),await rt(),w==0&&i!==void 0&&i.children.length>0&&n(2,i.children[0].style.background="#ece8d9",i)},re=l=>{x(l.detail.cardname)},x=l=>{fetch("https://api.scryfall.com/cards/named?exact="+l).then(o=>o.json()).then(o=>{console.log(o);let d={front:"",link:o.scryfall_uri,active:"front"};try{"card_faces"in o?(d.front=o.card_faces[0].image_uris.normal,d.back=o.card_faces[1].image_uris.normal):d.front=o.image_uris.normal}catch{n(1,s=[]);return}u.push(d),n(4,a=u.toReversed()),n(1,s=[]),n(0,r=""),n(3,c="visible"),S=d,n(10,v=d),localStorage.setItem("clickedCard",JSON.stringify(S)),localStorage.setItem("selectedCard",JSON.stringify(v)),localStorage.setItem("cards",JSON.stringify(u)),localStorage.setItem("displayCards",JSON.stringify(a))}).catch(o=>console.error("Error:",o))},X=l=>{n(10,v.active=v.active==="front"?"back":"front",v),n(4,a)},C=l=>{l.key==="Enter"&&s.length>0?(L||(L=s[0]),x(L),w=0,L=null):l.key==="Escape"&&s.length>0&&(n(1,s=[]),w=0,L=null),l.key==="ArrowDown"&&s.length>0&&(n(2,i.children[w].style.background="white",i),w<s.length-1&&w++,L=s[w],n(2,i.children[w].style.background="#ece8d9",i)),l.key==="ArrowUp"&&s.length>0&&(n(2,i.children[w].style.background="white",i),w>0&&w--,L=s[w],n(2,i.children[w].style.background="#ece8d9",i))};tt(async()=>{try{localStorage.getItem("clickedCard")&&(S=JSON.parse(localStorage.getItem("clickedCard"))),localStorage.getItem("selectedCard")&&n(10,v=JSON.parse(localStorage.getItem("selectedCard"))),localStorage.getItem("cards")&&(u=JSON.parse(localStorage.getItem("cards"))),localStorage.getItem("displayCards")&&n(4,a=JSON.parse(localStorage.getItem("displayCards")))}catch(l){console.log(l)}localStorage.getItem("schemaVersion")!==Be&&(P(),localStorage.setItem("schemaVersion",Be)),a.length>0&&n(3,c="visible"),n(5,f.style.height=z.offsetHeight+"px",f),g.focus()}),nt(()=>G());const G=l=>{n(12,V=document.body.offsetHeight-J.offsetHeight),n(8,E=O/4)},M=l=>{document.activeElement!==g&&g.focus()},P=l=>{u=[],n(4,a=[]),n(10,v=q),n(3,c="hidden"),console.log("click"),localStorage.removeItem("clickedCard"),localStorage.removeItem("selectedCard"),localStorage.removeItem("cards"),localStorage.removeItem("displayCards")},F=l=>{switch(l.detail.type){case"mouseenter":n(10,v=l.detail.data);break;case"mouseleave":n(10,v=S);break;case"click":S=l.detail.data,n(10,v=S),localStorage.setItem("clickedCard",JSON.stringify(S)),localStorage.setItem("selectedCard",JSON.stringify(v))}},se=l=>{window.open(v.link)};function ie(l){U[l?"unshift":"push"](()=>{g=l,n(7,g)})}function I(){r=this.value,n(0,r)}function $(l){U[l?"unshift":"push"](()=>{i=l,n(2,i)})}function oe(l){U[l?"unshift":"push"](()=>{z=l,n(6,z)})}function H(l){U[l?"unshift":"push"](()=>{f=l,n(5,f)})}function _(l){U[l?"unshift":"push"](()=>{J=l,n(11,J)})}function he(){O=this.clientHeight,n(9,O)}return[r,s,i,c,a,f,z,g,E,O,v,J,V,j,re,X,C,G,M,P,F,se,ie,I,$,oe,H,_,he]}class mt extends Ce{constructor(t){super(),ke(this,t,pt,gt,be,{},null,[-1,-1])}}new mt({target:document.getElementById("app")});
