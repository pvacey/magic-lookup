var Me=Object.defineProperty;var He=(e,t,n)=>t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(He(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Y(){}function Ce(e){return e()}function me(){return Object.create(null)}function F(e){e.forEach(Ce)}function Ie(e){return typeof e=="function"}function je(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let re;function X(e,t){return e===t?!0:(re||(re=document.createElement("a")),re.href=t,e===re.href)}function xe(e){return Object.keys(e).length===0}function m(e,t){e.appendChild(t)}function J(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function Ee(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function he(e){return document.createTextNode(e)}function H(){return he(" ")}function Be(){return he("")}function O(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Re(e){return Array.from(e.childNodes)}function Fe(e,t){t=""+t,e.data!==t&&(e.data=t)}function _e(e,t){e.value=t??""}function h(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let se;function Ue(){if(se===void 0){se=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{se=!0}}return se}function We(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=_("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const s=Ue();let i;return s?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=O(window,"message",o=>{o.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{i=O(r.contentWindow,"resize",t),t()}),m(e,r),()=>{(s||i&&r.contentWindow)&&i(),q(r)}}function De(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}let Z;function G(e){Z=e}function ge(){if(!Z)throw new Error("Function called outside component initialization");return Z}function Te(e){ge().$$.on_mount.push(e)}function Ke(e){ge().$$.after_update.push(e)}function Ve(){const e=ge();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=De(t,n,{cancelable:r});return s.slice().forEach(o=>{o.call(e,i)}),!i.defaultPrevented}return!0}}const D=[],B=[];let T=[];const ve=[],qe=Promise.resolve();let ae=!1;function Oe(){ae||(ae=!0,qe.then(Ne))}function Xe(){return Oe(),qe}function le(e){T.push(e)}const fe=new Set;let W=0;function Ne(){if(W!==0)return;const e=Z;do{try{for(;W<D.length;){const t=D[W];W++,G(t),Ge(t.$$)}}catch(t){throw D.length=0,W=0,t}for(G(null),D.length=0,W=0;B.length;)B.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];fe.has(n)||(fe.add(n),n())}T.length=0}while(D.length);for(;ve.length;)ve.pop()();ae=!1,fe.clear(),G(e)}function Ge(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le)}}function Qe(e){const t=[],n=[];T.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),T=t}const ie=new Set;let R;function Ye(){R={r:0,c:[],p:R}}function Ze(){R.r||F(R.c),R=R.p}function Q(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function de(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),R.c.push(()=>{ie.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function oe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function $e(e){e&&e.c()}function Ae(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),le(()=>{const i=e.$$.on_mount.map(Ce).filter(Ie);e.$$.on_destroy?e.$$.on_destroy.push(...i):F(i),e.$$.on_mount=[]}),s.forEach(le)}function ze(e,t){const n=e.$$;n.fragment!==null&&(Qe(n.after_update),F(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function et(e,t){e.$$.dirty[0]===-1&&(D.push(e),Oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Je(e,t,n,r,s,i,o=null,v=[-1]){const p=Z;G(e);const c=e.$$={fragment:null,ctx:[],props:i,update:Y,not_equal:s,bound:me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:me(),dirty:v,skip_bound:!1,root:t.target||p.$$.root};o&&o(c.root);let N=!1;if(c.ctx=n?n(e,t.props||{},(d,S,...j)=>{const y=j.length?j[0]:S;return c.ctx&&s(c.ctx[d],c.ctx[d]=y)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](y),N&&et(e,d)),S}):[],c.update(),N=!0,F(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const d=Re(t.target);c.fragment&&c.fragment.l(d),d.forEach(q)}else c.fragment&&c.fragment.c();t.intro&&Q(e.$$.fragment),Ae(e,t.target,t.anchor),Ne()}G(p)}class Le{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){ze(this,1),this.$destroy=Y}$on(t,n){if(!Ie(n))return Y;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tt);function nt(e){let t,n,r,s;return{c(){t=_("div"),n=he(e[0]),a(t,"class","searchitem")},m(i,o){J(i,t,o),m(t,n),r||(s=O(t,"click",e[1]),r=!0)},p(i,[o]){o&1&&Fe(n,i[0])},i:Y,o:Y,d(i){i&&q(t),r=!1,s()}}}function rt(e,t,n){let{cardname:r}=t;const s=Ve();function i(){s("message",{cardname:r})}return e.$$set=o=>{"cardname"in o&&n(0,r=o.cardname)},[r,i]}class st extends Le{constructor(t){super(),Je(this,t,rt,nt,je,{cardname:0})}}function ye(e,t,n){const r=e.slice();return r[34]=t[n],r}function be(e,t,n){const r=e.slice();return r[37]=t[n],r}function we(e){let t,n;return t=new st({props:{cardname:e[37]}}),t.$on("message",e[14]),{c(){$e(t.$$.fragment)},m(r,s){Ae(t,r,s),n=!0},p(r,s){const i={};s[0]&2&&(i.cardname=r[37]),t.$set(i)},i(r){n||(Q(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){ze(t,r)}}}function Se(e){let t,n=oe(e[4]),r=[];for(let s=0;s<n.length;s+=1)r[s]=ke(ye(e,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=Be()},m(s,i){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,i);J(s,t,i)},p(s,i){if(i[0]&3670288){n=oe(s[4]);let o;for(o=0;o<n.length;o+=1){const v=ye(s,n,o);r[o]?r[o].p(v,i):(r[o]=ke(v),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&q(t),Ee(r,s)}}}function ke(e){let t,n,r,s,i,o,v;return{c(){t=_("div"),n=_("div"),r=_("img"),i=H(),X(r.src,s=e[34])||a(r,"src",s),a(r,"alt",""),a(r,"class","svelte-1jhvcqi"),a(n,"class","card svelte-1jhvcqi"),h(n,"transform","rotate("+(Math.random()*1.5-1)+"deg) translateX("+Math.random()*10+"px)"),a(t,"class","cardspacer svelte-1jhvcqi"),h(t,"height",e[8]+"px"),h(t,"margin-top","-"+e[8]/4+"px")},m(p,c){J(p,t,c),m(t,n),m(n,r),m(t,i),o||(v=[O(r,"mouseenter",e[21]),O(r,"mouseleave",e[20]),O(r,"click",e[19])],o=!0)},p(p,c){c[0]&16&&!X(r.src,s=p[34])&&a(r,"src",s),c[0]&256&&h(t,"height",p[8]+"px"),c[0]&256&&h(t,"margin-top","-"+p[8]/4+"px")},d(p){p&&q(t),o=!1,F(v)}}}function it(e){let t,n,r,s,i,o,v,p,c,N,d,S,j,y,L,z,I,b,k,$,U,C,K,A,P,x,ee,te,E,V,ne,M=oe(e[1]),g=[];for(let u=0;u<M.length;u+=1)g[u]=we(be(e,M,u));const ce=u=>de(g[u],1,1,()=>{g[u]=null});let w=e[4].length>0&&Se(e);return{c(){t=_("head"),t.innerHTML='<meta charset="utf-8"/> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono"/>',n=H(),r=_("div"),s=_("div"),i=_("input"),o=H(),v=_("div");for(let u=0;u<g.length;u+=1)g[u].c();p=H(),c=_("div"),c.textContent="clear",N=H(),d=_("div"),S=_("div"),j=_("div"),y=H(),L=_("div"),z=_("img"),b=H(),k=_("div"),k.textContent="history",$=H(),U=_("div"),C=_("div"),w&&w.c(),K=H(),A=_("div"),P=_("div"),x=_("img"),a(i,"type","text"),a(i,"placeholder","search..."),a(i,"class","svelte-1jhvcqi"),a(v,"class","searchresultsbox svelte-1jhvcqi"),a(s,"class","searchboxinner svelte-1jhvcqi"),a(r,"class","searchbox svelte-1jhvcqi"),a(c,"class","clearbutton"),h(c,"position","absolute"),h(c,"bottom","10px"),h(c,"right","10px"),h(c,"z-index","2"),h(c,"border","3px solid #494949"),h(c,"padding","5px"),h(c,"cursor","pointer"),h(c,"background-color","white"),a(j,"class","searchboxpadding svelte-1jhvcqi"),X(z.src,I=e[10])||a(z,"src",I),a(z,"class","svelte-1jhvcqi"),a(L,"class","selectedcard svelte-1jhvcqi"),a(k,"class",""),h(k,"text-align","center"),h(k,"padding","5px"),X(x.src,ee=Pe)||a(x,"src",ee),a(x,"alt",""),a(x,"class","svelte-1jhvcqi"),a(P,"class","card svelte-1jhvcqi"),le(()=>e[28].call(P)),a(A,"class","cardspacer svelte-1jhvcqi"),h(A,"height",e[9]+"px"),h(A,"margin-top","-"+e[8]/4+"px"),a(C,"class","cardhistory svelte-1jhvcqi"),h(C,"padding-top",e[8]/4+35+"px"),h(C,"height",e[12]-(e[8]/4+35)+"px"),a(U,"class","cardhistorycontainer svelte-1jhvcqi"),a(d,"class","root svelte-1jhvcqi"),h(d,"visibility",e[3])},m(u,l){J(u,t,l),J(u,n,l),J(u,r,l),m(r,s),m(s,i),e[22](i),_e(i,e[0]),m(s,o),m(s,v);for(let f=0;f<g.length;f+=1)g[f]&&g[f].m(v,null);e[24](v),e[25](r),J(u,p,l),J(u,c,l),J(u,N,l),J(u,d,l),m(d,S),m(S,j),e[26](j),m(S,y),m(S,L),m(L,z),m(S,b),m(S,k),e[27](S),m(d,$),m(d,U),m(U,C),w&&w.m(C,null),m(C,K),m(C,A),m(A,P),m(P,x),te=We(P,e[28].bind(P)),E=!0,V||(ne=[O(window,"resize",e[16]),O(window,"keypress",e[17]),O(i,"input",e[23]),O(i,"input",e[13]),O(i,"keydown",e[15]),O(c,"click",e[18])],V=!0)},p(u,l){if(l[0]&1&&i.value!==u[0]&&_e(i,u[0]),l[0]&16386){M=oe(u[1]);let f;for(f=0;f<M.length;f+=1){const pe=be(u,M,f);g[f]?(g[f].p(pe,l),Q(g[f],1)):(g[f]=we(pe),g[f].c(),Q(g[f],1),g[f].m(v,null))}for(Ye(),f=M.length;f<g.length;f+=1)ce(f);Ze()}(!E||l[0]&1024&&!X(z.src,I=u[10]))&&a(z,"src",I),u[4].length>0?w?w.p(u,l):(w=Se(u),w.c(),w.m(C,K)):w&&(w.d(1),w=null),(!E||l[0]&512)&&h(A,"height",u[9]+"px"),(!E||l[0]&256)&&h(A,"margin-top","-"+u[8]/4+"px"),(!E||l[0]&256)&&h(C,"padding-top",u[8]/4+35+"px"),(!E||l[0]&4352)&&h(C,"height",u[12]-(u[8]/4+35)+"px"),(!E||l[0]&8)&&h(d,"visibility",u[3])},i(u){if(!E){for(let l=0;l<M.length;l+=1)Q(g[l]);E=!0}},o(u){g=g.filter(Boolean);for(let l=0;l<g.length;l+=1)de(g[l]);E=!1},d(u){u&&(q(t),q(n),q(r),q(p),q(c),q(N),q(d)),e[22](null),Ee(g,u),e[24](null),e[25](null),e[26](null),e[27](null),w&&w.d(),te(),V=!1,F(ne)}}}let Pe="https://backs.scryfall.io/large/2/2/222b7a3b-2321-4d4c-af19-19338b134971.jpg?1677416389";function lt(e,t,n){let r="",s=[],i,o="hidden",v=[],p=[],c,N,d,S,j,y="https://backs.scryfall.io/large/2/2/222b7a3b-2321-4d4c-af19-19338b134971.jpg?1677416389",L,z,I=y,b=0,k;const $=async()=>{const f=await(await fetch("https://api.scryfall.com/cards/autocomplete?q="+r)).json();n(1,s=f.data),await Xe(),b==0&&i!==void 0&&i.children.length>0&&n(2,i.children[0].style.background="#ece8d9",i)},U=l=>{C(l.detail.cardname)},C=l=>{fetch("https://api.scryfall.com/cards/named?exact="+l).then(f=>f.json()).then(f=>{"card_faces"in f&&(console.log("yes, found it"),f=f.card_faces[0]),v.push(f.image_uris.normal),n(4,p=v.toReversed()),n(1,s=[]),n(0,r=""),n(3,o="visible"),I=f.image_uris.normal,n(10,y=f.image_uris.normal),I=f.image_uris.normal,n(10,y=f.image_uris.normal),localStorage.setItem("clickedCard",JSON.stringify(I)),localStorage.setItem("selectedCard",JSON.stringify(y)),localStorage.setItem("cards",JSON.stringify(v)),localStorage.setItem("displayCards",JSON.stringify(p))}).catch(f=>console.error("Error:",f))},K=l=>{l.key==="Enter"&&s.length>0?(k||(k=s[0]),C(k),b=0,k=null):l.key==="Escape"&&s.length>0&&(n(1,s=[]),b=0,k=null),l.key==="ArrowDown"&&s.length>0&&(n(2,i.children[b].style.background="white",i),b<s.length-1&&b++,k=s[b],n(2,i.children[b].style.background="#ece8d9",i)),l.key==="ArrowUp"&&s.length>0&&(n(2,i.children[b].style.background="white",i),b>0&&b--,k=s[b],n(2,i.children[b].style.background="#ece8d9",i))};Te(async()=>{try{localStorage.getItem("clickedCard")&&(I=JSON.parse(localStorage.getItem("clickedCard"))),localStorage.getItem("selectedCard")&&n(10,y=JSON.parse(localStorage.getItem("selectedCard"))),localStorage.getItem("cards")&&(v=JSON.parse(localStorage.getItem("cards"))),localStorage.getItem("displayCards")&&n(4,p=JSON.parse(localStorage.getItem("displayCards")))}catch(l){console.log(l)}p.length>0&&n(3,o="visible"),n(5,c.style.height=N.offsetHeight+"px",c),d.focus()}),Ke(()=>A());const A=l=>{n(12,z=document.body.offsetHeight-L.offsetHeight),n(8,S=j/4)},P=l=>{document.activeElement!==d&&d.focus()},x=l=>{v=[],n(4,p=[]),n(10,y=Pe),n(3,o="hidden"),console.log("click"),localStorage.removeItem("clickedCard"),localStorage.removeItem("selectedCard"),localStorage.removeItem("cards"),localStorage.removeItem("displayCards")},ee=l=>{I=l.target.src,n(10,y=I),localStorage.setItem("clickedCard",JSON.stringify(I)),localStorage.setItem("selectedCard",JSON.stringify(y))},te=l=>{n(10,y=I)},E=l=>{n(10,y=l.target.src)};function V(l){B[l?"unshift":"push"](()=>{d=l,n(7,d)})}function ne(){r=this.value,n(0,r)}function M(l){B[l?"unshift":"push"](()=>{i=l,n(2,i)})}function g(l){B[l?"unshift":"push"](()=>{N=l,n(6,N)})}function ce(l){B[l?"unshift":"push"](()=>{c=l,n(5,c)})}function w(l){B[l?"unshift":"push"](()=>{L=l,n(11,L)})}function u(){j=this.clientHeight,n(9,j)}return[r,s,i,o,p,c,N,d,S,j,y,L,z,$,U,K,A,P,x,ee,te,E,V,ne,M,g,ce,w,u]}class ot extends Le{constructor(t){super(),Je(this,t,lt,it,je,{},null,[-1,-1])}}new ot({target:document.getElementById("app")});
